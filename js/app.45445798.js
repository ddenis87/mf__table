(function(t){function e(e){for(var n,i,c=e[0],r=e[1],l=e[2],s=0,d=[];s<c.length;s++)i=c[s],Object.prototype.hasOwnProperty.call(u,i)&&u[i]&&d.push(u[i][0]),u[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);E&&E(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==u[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},u={app:0},o=[];function c(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-1c63c43c":"c2611c76","chunk-1c8f9854":"91a35a4e","chunk-619f256f":"6549b0dc","chunk-9aa0e4ae":"731cab22","chunk-d3a0a240":"83d22d33","chunk-afa86b7c":"63a6457e","chunk-63bbbbd2":"ae41d810","chunk-58867bf6":"b6e2a00e","chunk-dbc48c6c":"493c7199","chunk-75e236f5":"33178c45","chunk-7f821867":"1ecf3220","chunk-23a17180":"b7a4c66f","chunk-0bfd4ab3":"304c80e3","chunk-2d0b15d6":"76465195","chunk-2d0c1387":"fcbcacff","chunk-2d0efd5c":"948705aa","chunk-3dd27e5e":"2878e932","chunk-8b7f2190":"2a9dac60","chunk-2d0b2cf9":"5fc3ec06","chunk-2d0da5b0":"f1060395","chunk-2d0dab82":"7a9d055e","chunk-2d0e59f0":"92a48738"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a={"chunk-1c63c43c":1,"chunk-1c8f9854":1,"chunk-619f256f":1,"chunk-9aa0e4ae":1,"chunk-d3a0a240":1,"chunk-afa86b7c":1,"chunk-63bbbbd2":1,"chunk-58867bf6":1,"chunk-dbc48c6c":1,"chunk-75e236f5":1,"chunk-7f821867":1,"chunk-0bfd4ab3":1,"chunk-3dd27e5e":1,"chunk-8b7f2190":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-1c63c43c":"6bc8abcf","chunk-1c8f9854":"734d8873","chunk-619f256f":"375543f3","chunk-9aa0e4ae":"dedd11e2","chunk-d3a0a240":"f5044f61","chunk-afa86b7c":"8b0fc74e","chunk-63bbbbd2":"e2bb50b6","chunk-58867bf6":"b85b6f7d","chunk-dbc48c6c":"c9cc261f","chunk-75e236f5":"e4bd7f6a","chunk-7f821867":"f0222215","chunk-23a17180":"31d6cfe0","chunk-0bfd4ab3":"1f957aa4","chunk-2d0b15d6":"31d6cfe0","chunk-2d0c1387":"31d6cfe0","chunk-2d0efd5c":"31d6cfe0","chunk-3dd27e5e":"08388d26","chunk-8b7f2190":"4e3e24d0","chunk-2d0b2cf9":"31d6cfe0","chunk-2d0da5b0":"31d6cfe0","chunk-2d0dab82":"31d6cfe0","chunk-2d0e59f0":"31d6cfe0"}[t]+".css",u=r.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===n||s===u))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],s=l.getAttribute("data-href");if(s===n||s===u)return e()}var E=document.createElement("link");E.rel="stylesheet",E.type="text/css",E.onload=e,E.onerror=function(e){var n=e&&e.target&&e.target.src||u,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[t],E.parentNode.removeChild(E),a(o)},E.href=u;var f=document.getElementsByTagName("head")[0];f.appendChild(E)})).then((function(){i[t]=0})));var n=u[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=u[t]=[e,a]}));e.push(n[2]=o);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=c(t);var d=new Error;l=function(e){s.onerror=s.onload=null,clearTimeout(E);var a=u[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}u[t]=void 0}};var E=setTimeout((function(){l({type:"timeout",target:s})}),12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/mf__table/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var E=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1ac4":function(t,e,a){"use strict";a("ea16")},"402c":function(t,e,a){"use strict";var n=a("2b0e"),i=a("f309");n["default"].use(i["a"]),e["a"]=new i["a"]({})},"403f":function(t,e,a){},4360:function(t,e,a){"use strict";var n=a("2b0e"),i=a("2f62"),u=(a("d3b7"),a("bc3a")),o=a.n(u),c={namespaced:!0,state:{isProccessRequest:!1,userTokenAccess:localStorage.getItem("Token")?localStorage.getItem("Token"):"",userName:localStorage.getItem("userName")?localStorage.getItem("userName"):"",password:""},getters:{GET_PROCCESS_REQUEST:function(t){return t.isProccessRequest},GET_USER_TOKEN_ACCESS:function(t){return"Token ".concat(t.userTokenAccess)},GET_USER_NAME_PASSWORD:function(t){return{userName:t.userName,password:t.password}}},mutations:{SET_PROCCESS_REQUEST:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isProccessRequest=e},SET_USER_TOKEN_ACCESS:function(t,e){t.userTokenAccess=e,localStorage.setItem("Token",e),localStorage.setItem("userName",t.userName)},SET_USER_NAME_PASSWORD:function(t,e){t.userName=e.userName,t.password=e.password},SET_LOGOUT:function(t){delete localStorage.Token,delete localStorage.userName,t.userTokenAccess="",t.userName="",t.password=""}},actions:{GET_USER_TOKEN_ACCESS:function(t,e,a){return t.commit("SET_PROCCESS_REQUEST",!0),new Promise((function(a,n){o.a.post(t.rootState.addressApi+"api-token-auth/",{username:e.userName,password:e.password}).then((function(e){console.log(e),t.commit("SET_USER_TOKEN_ACCESS",e.data.token),a(e)})).catch((function(t){console.log(t),n(t)})).finally((function(){return t.commit("SET_PROCCESS_REQUEST")}))}))}}},r=a("d4ec"),l=a("ade3"),s=(a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("fb6a"),a("5319"),a("a15b"),a("466d"),a("7db0"),a("159b"),a("99af"),a("b64b"),a("4de4"),{GET_DESCRIPTION:function(t){return function(e){return!!e.tableName&&t[e.tableName].description}},GET_RELATED_MODEL_VIEW:function(t){return function(e){return!!e.tableName&&t[e.tableName].relatedModelView}},GET_LIST_OPTIONS:function(t){return function(e){return e.tableName?t[e.tableName].listOptions:{}}},GET_PROPS_TABLE:function(t){return function(e){return t[e.tableName][e.guid]?t[e.tableName][e.guid].propsTable:{}}},GET_PROP_TABLE_VALUE:function(t){return function(e){return t[e.tableName][e.guid].propsTable[e.key]}},GET_COUNT_DATA_TOTAL:function(t){return function(e){return t[e.tableName][e.guid]?t[e.tableName][e.guid].countDataTotal:-1}},GET_COUNT_DATA_LOADED:function(t){return function(e){return e.tableName&&e.guid?t[e.tableName][e.guid].listData.length:-1}},GET_LIST_DATA:function(t){return function(e){return e.tableName?e.guid?t[e.tableName][e.guid].listData:t[e.tableName].listData:[]}},GET_LIST_DATA_ITEM_REPRESENTATION:function(t){return function(e){var a=t[e.tableName].relatedModelView,n=a.match(/[{\w}]/gi).join(",").replace(/,/g,"").slice(1,-1).split("}{"),i=t[e.tableName].listData.find((function(t){return t.id===e.id}));if(i){var u=a;return n.forEach((function(t){u=u.replace("{".concat(t,"}"),i[t])})),u}}},GET_ACTIVE_ELEMENT:function(t){return function(e){return e.guid?t[e.tableName][e.guid].activeElement:null}},GET_LOADING_API:function(t){return function(e){return t[e.tableName][e.guid].apiLoading}},GET_ADDRESS_API:function(t,e,a,n){return function(t,e){var a="".concat(n.GET_ADDRESS_API,"api/v1/").concat(e,"/?");switch(t){case"options":return a;case"post":case"update":case"delete":return a.slice(0,-1);case"get":return a;default:return a}}},GET_LINK_PAGE_NEXT:function(t){return function(e){return t[e.tableName][e.guid].linkPageNext}},GET_LINK_PAGE_PREVIOUS:function(t){return function(e){return t[e.tableName][e.guid].linkPagePrevious}},GET_FILTER_API:function(t){return function(e){var a=t[e.tableName][e.guid].filters,n="";return Object.keys(a).forEach((function(t){null!=a[t]&&(n+="&".concat(t,"=").concat(a[t]))})),t[e.tableName][e.guid].filtersFields&&(n+=t[e.tableName][e.guid].filtersFields),n}},GET_DATA_GROUP:function(t){return function(e){return t[e.tableName][e.guid].listDataGroup}},GET_DATA_GROUP_LEVEL:function(t){return function(e){return t[e.tableName][e.guid].listDataGroup.length}},GET_ADDING_MODE:function(t){return function(e){return e.guid?t[e.tableName][e.guid].addingMode:{index:null,id:null}}},GET_FILTER_DEFAULT_FIELD:function(t){return function(e){return!!e.guid&&t[e.tableName][e.guid].filters[e.filter]}},GET_FILTERS:function(t){return function(e){return!!e.guid&&t[e.tableName][e.guid].filters}},GET_FILTER_EXTENDED:function(t){return function(e){return e.guid?null==t[e.tableName][e.guid].filtersExtended?"":""+t[e.tableName][e.guid].filtersExtended:""}},GET_MARK_EVENTS_FILTER_EXTENDE_RESET:function(t){return function(e){return e.guid?t[e.tableName][e.guid].markersEvents.filterExtendedReset:null}},GET_MARK_EVENTS_FILTER_EXTENDE_OFF:function(t){return function(e){return e.guid?t[e.tableName][e.guid].markersEvents.filterExtendedOff:null}},GET_MARK_EVENTS_ADDING:function(t){return function(e){return t[e.tableName][e.guid].markersEvents.eventAdding}},GET_MARK_MODE_ADDING:function(t){return function(e){return t[e.tableName][e.guid].markersEvents.modeAdding}},GET_HISTORY_ADDRESS_API:function(t,e,a,n){return function(t){var e="".concat(n.GET_ADDRESS_API,"api/v1/").concat(t.tableName,"/");switch(t.mode){case"element":e+="retrieve_actual/?";break;case"element_list":e+="?";break}return e}}}),d=(a("c740"),a("a434"),a("4fad"),function t(e){var a=e.pageSize,n=void 0===a?80:a,i=e.isDeleted,u=void 0!==i&&i,o=e.propsTable;Object(r["a"])(this,t),Object(l["a"])(this,"apiLoading",!1),Object(l["a"])(this,"propsTable",{isMarkDeleted:null}),Object(l["a"])(this,"countDataTotal",-1),Object(l["a"])(this,"listData",[]),Object(l["a"])(this,"listDataGroup",[]),Object(l["a"])(this,"activeElement",null),Object(l["a"])(this,"linkPageNext",null),Object(l["a"])(this,"linkPagePrevious",null),Object(l["a"])(this,"filters",{page_size:"",is_deleted:!1,parent__isnull:null,ordering:null,search:null,parent:null,is_group:null}),Object(l["a"])(this,"filtersExtended",null),Object(l["a"])(this,"addingMode",{index:null,id:null}),Object(l["a"])(this,"markersEvents",{filterExtendedReset:null,filterExtendedOff:null,eventAdding:null,modeAdding:null,modeEditing:null}),this.filters["page_size"]=n,this.filters["is_deleted"]=u,this.propsTable=Object.assign(this.propsTable,o)}),E={CREATE_TABLE_DATA_SPACE:function(t,e){n["default"].set(t[e.tableName],e.guid,new d(e.tableOption)),console.log(t[e.tableName])},DELETE_TABLE_DATA_SPACE:function(t,e){delete t[e.tableName][e.guid]},SET_PROPS_TABLE:function(t,e){for(var a=0,n=Object.keys(e.propsTable);a<n.length;a++){var i=n[a];t[e.tableName][e.guid].propsTable[i]=e.propsTable[i]}console.log(t[e.tableName][e.guid].propsTable)},SET_ACTIVE_ELEMENT:function(t,e){t[e.tableName][e.guid].activeElement=e.value?e.value:null},SET_LOADING_API:function(t,e){t[e.tableName][e.guid].apiLoading=e.status},SET_OPTIONS:function(t,e){t[e.tableName].listOptions=e.data,t[e.tableName].description=e.description,"parent"in e.data?(t[e.tableName][e.guid].propsTable.isHierarchy=null==t[e.tableName][e.guid].propsTable.isHierarchy?null:t[e.tableName][e.guid].propsTable.isHierarchy&&!0,t[e.tableName][e.guid].filters["parent__isnull"]=!0,t[e.tableName][e.guid].filters["ordering"]="-is_group"):t[e.tableName][e.guid].propsTable.isHierarchy=null==t[e.tableName][e.guid].propsTable.isHierarchy?null:t[e.tableName][e.guid].propsTable.isHierarchy&&!1,t[e.tableName][e.guid].propsTable.isMarkDeleted="is_deleted"in e.data},SET_EXTRA_ACTIONS:function(t,e){t[e.tableName].extra_actions=e.data},SET_DATA:function(t,e){"guid"in e?t[e.tableName][e.guid].listData.push(e.value):t[e.tableName].listData.push(e.value)},UPDATE_DATA:function(t,e){var a=t[e.tableName].listData.findIndex((function(t){return t.id==e.value.id}));t[e.tableName].listData[a]=e.value},SET_DATA_PREVIOUS:function(t,e){t[e.tableName][e.guid].listData=e.buferData.concat(t[e.tableName][e.guid].listData)},SET_DATA_OPTIONS:function(t,e){t[e.tableName][e.guid].countDataTotal=e.data.count,t[e.tableName][e.guid].linkPageNext=e.data.next},SET_DATA_OPTIONS_PRELOAD:function(t,e){t[e.tableName][e.guid].countDataTotal=e.data.count,t[e.tableName][e.guid].linkPagePrevious=e.data.previous},CLEAR_DATA:function(t,e){t[e.tableName][e.guid].countDataTotal=-1,t[e.tableName][e.guid].listData=[],t[e.tableName][e.guid].linkPageNext=null,t[e.tableName][e.guid].linkPagePrevious=null},CLEAR_DATA_GROUP_LEGEND:function(t,e){t[e.tableName][e.guid].listDataGroup=[]},CHANGE_DATA_GROUP_LEGEND:function(t,e){var a=t[e.tableName][e.guid].listDataGroup.findIndex((function(t){return t.id==e.value.id}));-1==a?t[e.tableName][e.guid].listDataGroup.push(e.value):t[e.tableName][e.guid].listDataGroup=t[e.tableName][e.guid].listDataGroup.slice(0,a)},ADDING_NEW_ELEMEN_INLINE:function(t,e){var a={};Object.keys(t[e.tableName].listOptions).forEach((function(t){a[t]=null}));var n=t[e.tableName][e.guid].listDataGroup.length-1;n>-1&&(a.parent=t[e.tableName][e.guid].listDataGroup[n]);var i=t[e.tableName][e.guid].listData.findIndex((function(t){return t.id==e.id}));-1==i?(t[e.tableName][e.guid].listData.splice(0,0,a),t[e.tableName][e.guid].addingMode.index=0):(t[e.tableName][e.guid].listData.splice(i+1,0,a),t[e.tableName][e.guid].addingMode.index=i+1)},ADDING_NEW_ELEMEN_INLINE_FIELD:function(t,e){var a=t[e.tableName][e.guid].listData.findIndex((function(t){return t.id==e.id}));t[e.tableName][e.guid].listData[a][e.fieldName]=e.value},DELETING_NEW_ELEMENT_INLINE:function(t,e){t[e.tableName][e.guid].listData.splice(t[e.tableName][e.guid].addingMode.index,1),t[e.tableName][e.guid].addingMode.id=null,t[e.tableName][e.guid].addingMode.index=null},RESET_ADDING_MODE:function(t,e){t[e.tableName][e.guid].addingMode.id=null,t[e.tableName][e.guid].addingMode.index=null},ADDING_DATA_LINK:function(t,e){-1==t[e.tableName].listData.findIndex((function(t){return t.id==e.value.id}))&&t[e.tableName].listData.push(e.value)},MARK_DELETED_ELEMENT:function(t,e){var a=t[e.tableName][e.guid].listData.findIndex((function(t){return t.id==e.id}));t[e.tableName][e.guid].listData.splice(a,1)},SET_FILTER_DEFAULT:function(t,e){for(var a=0,n=Object.entries(e.defaultFilters);a<n.length;a++){var i=n[a];t[e.tableName][e.guid].filters[i[0]]=i[1]}},SET_FILTER_PARENT:function(t,e){t[e.tableName][e.guid].listDataGroup.length?(t[e.tableName][e.guid].filters["parent__isnull"]=null,t[e.tableName][e.guid].filters["parent"]=t[e.tableName][e.guid].listDataGroup[t[e.tableName][e.guid].listDataGroup.length-1].id):(t[e.tableName][e.guid].filters["parent__isnull"]=!0,t[e.tableName][e.guid].filters["parent"]=null)},SET_FILTER_EXTENDED:function(t,e){t[e.tableName][e.guid].filtersExtended=null!=e.value&&""!=e.value?e.value:null},MARK_EVENT_FILTER_EXTENDED_RESET:function(t,e){t[e.tableName][e.guid].markersEvents.filterExtendedReset=!0,setTimeout((function(){return t[e.tableName][e.guid].markersEvents.filterExtendedReset=null}),1e3)},MARK_EVENT_FILTER_EXTENDED_OFF:function(t,e){t[e.tableName][e.guid].markersEvents.filterExtendedOff=!0,setTimeout((function(){return t[e.tableName][e.guid].markersEvents.filterExtendedOff=null}),1e3)},MARK_EVENT_ADDING:function(t,e){t[e.tableName][e.guid].markersEvents.eventAdding=e.status,setTimeout((function(){return t[e.tableName][e.guid].markersEvents.eventAdding=null}),1e3)},MARK_MODE_ADDING:function(t,e){t[e.tableName][e.guid].markersEvents.modeAdding=e.status}},f=a("5530"),m={CREATE_TABLE_DATA_SPACE:function(t,e){return new Promise((function(a,n){t.commit("CREATE_TABLE_DATA_SPACE",e),e.defaultFilters&&t.commit("SET_FILTER_DEFAULT",e),t.dispatch("REQUEST_OPTIONS",e).then((function(){t.dispatch("REQUEST_DATA",e).then((function(){a()}))}))}))},DELETE_TABLE_DATA_SPACE:function(t,e){t.commit("DELETE_TABLE_DATA_SPACE",e)},SELECTED_GROUP:function(t,e){t.commit("CHANGE_DATA_GROUP_LEGEND",e),t.commit("SET_FILTER_PARENT",e),t.commit("CLEAR_DATA",e),t.dispatch("REQUEST_DATA",e)},TOGGLE_HIERARCHY_MODE:function(t,e){t.state[e.tableName][e.guid].propsTable.isHierarchy?(t.state[e.tableName][e.guid].propsTable.isHierarchy=!1,t.commit("CLEAR_DATA_GROUP_LEGEND",e),t.dispatch("SET_FILTER_DEFAULT",Object.assign(e,{defaultFilters:{ordering:null,parent__isnull:null,parent:null,is_group:null}}))):(t.state[e.tableName][e.guid].propsTable.isHierarchy=!0,t.dispatch("SET_FILTER_DEFAULT",Object.assign(e,{defaultFilters:{ordering:"-is_group",parent__isnull:!0}})))},RESET_TABLE:function(t,e){t.commit("SET_FILTER_DEFAULT",e),t.commit("CLEAR_DATA",e),t.commit("CLEAR_DATA_GROUP_LEGEND",e),t.commit("SET_FILTER_EXTENDED",Object(f["a"])({value:null},e)),t.dispatch("REQUEST_DATA",e)},SET_FILTER_DEFAULT:function(t,e){t.commit("SET_FILTER_DEFAULT",e),"requestFalse"in e||(t.commit("CLEAR_DATA",e),t.dispatch("REQUEST_DATA",e))},SET_FILTER_EXTENDED:function(t,e){t.commit("SET_FILTER_EXTENDED",e),"requestFalse"in e||(t.commit("CLEAR_DATA",e),t.dispatch("REQUEST_DATA",e))},ADDING_NEW_ELEMEN_INLINE:function(t,e){return new Promise((function(a,n){t.commit("ADDING_NEW_ELEMEN_INLINE",e),a()}))},ADDING_NEW_ELEMEN_INLINE_FIELD:function(t,e){return new Promise((function(a,n){t.commit("ADDING_NEW_ELEMEN_INLINE_FIELD",e),a()}))},ADDING_NEW_ELEMENT:function(t,e){return new Promise((function(a,n){t.dispatch("REQUEST_ADDING",e).then((function(n){console.log(n),t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),t.commit("CLEAR_DATA",e),t.dispatch("REQUEST_DATA",Object.assign(e,{id:n.data.id,previous:!0})).then((function(){console.log("request data iz adding element"),a(n.data.id)}))}))}))},DELETING_NEW_ELEMENT_INLINE:function(t,e){return new Promise((function(a,n){t.commit("DELETING_NEW_ELEMENT_INLINE",e),a()}))},UPDATE_ELEMENT_FIELD:function(t,e){return new Promise((function(a,n){t.dispatch("REQUEST_UPDATE",e).then((function(t){}))}))},UPDATE_ELEMENT:function(t,e){return new Promise((function(a,n){t.dispatch("REQUEST_UPDATE",e).then((function(a){var n=Object.assign({},e);delete n.id,t.commit("CLEAR_DATA",n),t.dispatch("REQUEST_DATA",n)}))}))},DELETED_ELEMENT:function(t,e){return new Promise((function(a,n){t.dispatch("REQUEST_MARK_DELETED",e).then((function(){a()}))}))},ADDING_DATA_LINK:function(t,e){return new Promise((function(a,n){t.commit("ADDING_DATA_LINK",e),a()}))},MARK_EVENT_FILTER_EXTENDED_RESET:function(t,e){t.commit("MARK_EVENT_FILTER_EXTENDED_RESET",e)},MARK_EVENT_FILTER_EXTENDED_OFF:function(t,e){t.commit("MARK_EVENT_FILTER_EXTENDED_OFF",e)},REQUEST_OPTIONS:function(t,e){var a=t.getters.GET_ADDRESS_API("options",e.tableName),n=t.rootGetters["Login/GET_USER_TOKEN_ACCESS"];return o.a.defaults.headers.common={Authorization:n},new Promise((function(n,i){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.options(a).then((function(a){var i={tableName:e.tableName,guid:e.guid,description:a.data.description,data:JSON.parse(a.request.response).actions.POST};t.commit("SET_OPTIONS",i),i.data=a.data.extra_actions,t.commit("SET_EXTRA_ACTIONS",i),n()})).catch((function(t){console.log(t),i()})).finally((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}))}))},REQUEST_DATA_PREVIOUS:function(t,e){var a=t.getters.GET_LINK_PAGE_PREVIOUS(e),n={tableName:e.tableName,guid:e.guid};return new Promise((function(i,u){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.get(a).then((function(a){var u=[];t.commit("SET_DATA_OPTIONS_PRELOAD",Object.assign(n,{data:a.data})),a.data.results.forEach((function(a){for(var n=function(){var n=o[i],u=t.state[e.tableName].listOptions[n];switch(u.type){case"choice":a[n]=u.choices.find((function(t){return t.value==a[n]}));break;case"field":if(!a[n])break;var c=u["related_model_name"];t.state[c].listData.find((function(t){return t.id==a[n].id}))||t.commit("SET_DATA",{tableName:c,value:a[n]}),a[n]=t.state[c].listData.find((function(t){return t.id==a[n].id}))}},i=0,o=Object.keys(a);i<o.length;i++)n();t.state[e.tableName].listData.find((function(t){return t.id==a.id}))||t.commit("SET_DATA",{tableName:e.tableName,value:a}),u.push(t.state[e.tableName].listData.find((function(t){return t.id==a.id})))})),n.buferData=u,t.commit("SET_DATA_PREVIOUS",n),i()})).catch((function(t){console.log(t),u()})).finally((function(){setTimeout((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}),800)}))}))},REQUEST_DATA_PRELOAD:function(t,e){console.log("preload data");var a=e.data.previous,n={tableName:e.tableName,guid:e.guid};return console.log(a),new Promise((function(i,u){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.get(a).then((function(a){t.commit("SET_DATA_OPTIONS_PRELOAD",Object.assign(n,{data:a.data}));var u=a.data.results.concat(e.data.results);u.forEach((function(a){for(var i=function(){var n=o[u],i=t.state[e.tableName].listOptions[n];switch(i.type){case"choice":a[n]=i.choices.find((function(t){return t.value==a[n]}));break;case"field":if(!a[n])break;var c=i["related_model_name"];t.state[c].listData.find((function(t){return t.id==a[n].id}))||t.commit("SET_DATA",{tableName:c,value:a[n]}),a[n]=t.state[c].listData.find((function(t){return t.id==a[n].id}))}},u=0,o=Object.keys(a);u<o.length;u++)i();t.state[e.tableName].listData.find((function(t){return t.id==a.id}))||t.commit("SET_DATA",{tableName:e.tableName,value:a}),n.value=t.state[e.tableName].listData.find((function(t){return t.id==a.id})),t.commit("SET_DATA",n)})),i()})).catch((function(t){console.log(t),u()})).finally((function(){setTimeout((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}),800)}))}))},REQUEST_DATA:function(t,e){var a=t.getters.GET_FILTER_API(e),n=t.getters.GET_FILTER_EXTENDED(e),i=t.getters.GET_ADDRESS_API("get",e.tableName)+a+n;"next"in e&&(i=t.getters.GET_LINK_PAGE_NEXT(e)),"id"in e&&(i+="&page_by_id=".concat(e.id)),console.log(i);var u={tableName:e.tableName,guid:e.guid};return new Promise((function(a,n){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.get(i).then((function(n){t.commit("SET_DATA_OPTIONS",Object.assign(u,{data:n.data})),n.data.results.length<t.state[e.tableName][e.guid].filters["page_size"]&&"previous"in e&&"id"in e&&null!=n.data.previous?t.dispatch("REQUEST_DATA_PRELOAD",u).then((function(){a()})):(n.data.results.forEach((function(a){for(var n=function(){var n=o[i],u=t.state[e.tableName].listOptions[n];switch(u.type){case"choice":a[n]=u.choices.find((function(t){return t.value==a[n]}));break;case"field":if(!a[n])break;var c=u["related_model_name"];t.state[c].listData.find((function(t){return t.id==a[n].id}))?t.commit("UPDATE_DATA",{tableName:c,value:a[n]}):t.commit("SET_DATA",{tableName:c,value:a[n]}),a[n]=t.state[c].listData.find((function(t){return t.id==a[n].id}))}},i=0,o=Object.keys(a);i<o.length;i++)n();t.state[e.tableName].listData.find((function(t){return t.id==a.id}))?t.commit("UPDATE_DATA",{tableName:e.tableName,value:a}):t.commit("SET_DATA",{tableName:e.tableName,value:a}),u.value=t.state[e.tableName].listData.find((function(t){return t.id==a.id})),t.commit("SET_DATA",u)})),a())})).catch((function(t){console.log(t),n()})).finally((function(){setTimeout((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}),800)}))}))},REQUEST_ADDING:function(t,e){var a=t.getters.GET_ADDRESS_API("post",e.tableName);return new Promise((function(n,i){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.post(a,e.formData).then((function(t){console.log(t),n(t)})).catch((function(t){console.log(t),i(t)})).finally((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}))}))},REQUEST_UPDATE:function(t,e){var a=t.getters.GET_ADDRESS_API("update",e.tableName);return a+="".concat(e.id,"/"),new Promise((function(n,i){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.put(a,e.formData).then((function(t){console.log(t),n()})).catch((function(t){console.log(t),i(t)})).finally((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}))}))},REQUEST_MARK_DELETED:function(t,e){var a=t.getters.GET_ADDRESS_API("delete",e.tableName);return a+="".concat(e.id),new Promise((function(n,i){t.commit("SET_LOADING_API",Object.assign(e,{status:!0})),o.a.delete(a).then((function(a){console.log(a),t.commit("MARK_DELETED_ELEMENT",e),n()})).catch((function(t){console.log(t),i(t)})).finally((function(){t.commit("SET_LOADING_API",Object.assign(e,{status:!1}))}))}))},REQUEST_DATA_ITEM:function(t,e){var a=t.getters.GET_ADDRESS_API("get",e.tableName),n=t.rootGetters["Login/GET_USER_TOKEN_ACCESS"];return o.a.defaults.headers.common={Authorization:n},a+="id=".concat(e.id),new Promise((function(n,i){o.a.get(a).then((function(a){a.data.results.forEach((function(a){t.commit("SET_DATA",{tableName:e.tableName,value:a})})),n()})).catch((function(t){i(t)})).finally((function(){}))}))},HISTORY_REQUEST_DATA:function(t,e){var a=t.getters.GET_HISTORY_ADDRESS_API(e);return"element"==e.mode&&(a+="id=".concat(e.id)),"element_list"==e.mode&&(a+="related=".concat(e.id)),console.log(a),new Promise((function(t,e){o.a.get(a).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))}))}},_=function t(e){var a=e.relatedModelView,n=void 0===a?"{id}":a;Object(r["a"])(this,t),Object(l["a"])(this,"description",null),Object(l["a"])(this,"relatedModelView",""),Object(l["a"])(this,"listOptions",{}),Object(l["a"])(this,"listData",[]),Object(l["a"])(this,"extra_actions",{}),this.relatedModelView=n},T={namespaced:!0,state:{budgetclassification:new _({relatedModelView:"{head_code} - {head_name}"}),organization:new _({relatedModelView:"{title}"}),actualdesc:new _({relatedModelView:"{some_desc}"})},getters:s,mutations:E,actions:m},b=(a("6062"),a("3ca3"),a("ddb0"),{namespaced:!0,state:{catalog:{dataTableControl:new Set(["adding","addingInline","addingGroup","editing","markDelete","recycle","filters"]),dataTable:{}},informationRegister:{dataTableControl:new Set(["adding","editing"])}},getters:{GET_DATATABLE_CONTROL:function(t){return function(e){return t[e.type].dataTableControl}}},mutations:{},actions:{}});n["default"].use(i["a"]);e["a"]=new i["a"].Store({state:{addressApi:"http://195.2.84.28/"},getters:{GET_ADDRESS_API:function(t){return t.addressApi}},mutations:{},actions:{},modules:{Login:c,DataTable:T,AccessControl:b}})},"55a0":function(t,e,a){"use strict";a("403f")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("89c1"),u=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"app"},[a(t.layout,{tag:"component"},[a("router-view")],1)],1)},c=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},l=[],s=a("2877"),d={},E=Object(s["a"])(d,r,l,!1,null,null,null),f=E.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-main"},[a("div",{staticClass:"layout-main__bar"},[a("app-bar")],1),a("div",{staticClass:"layout-main__bar-nav"},[a("app-bar-nav")],1),a("div",{staticClass:"layout-main__content"},[a("router-view")],1)])},_=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{staticClass:"app-bar",attrs:{dense:"",flat:"",dark:"",height:"30",color:"blue darken-3"}},[a("v-btn",{staticClass:"app-bar__btn",attrs:{icon:"","x-small":""},on:{click:t.routeHome}},[a("v-icon",[t._v("mdi-menu")])],1),a("span",{staticClass:"app-bar__title"},[t._v("Демонстрационное приложение универсальной таблицы")]),a("v-spacer"),a("profile-user")],1)},b=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-user-bar"},[a("span",{staticClass:"profile-user-bar__user-name"},[t._v(t._s(t.userName))]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:t.logout}},n),[a("v-icon",[t._v("mdi-logout")])],1)]}}])},[a("span",{staticClass:"tooltip-text tooltip-text-control"},[t._v("Выйти")])])],1)},A=[],p={name:"ProfileUser",computed:{userName:function(){return this.$store.getters["Login/GET_USER_NAME_PASSWORD"].userName}},methods:{logout:function(){this.$store.commit("Login/SET_LOGOUT"),this.$router.push("/Logout")}}},g=p,D=(a("a7ad"),a("6544")),h=a.n(D),S=a("8336"),v=a("132d"),I=a("3a2f"),O=Object(s["a"])(g,N,A,!1,null,"108f2738",null),L=O.exports;h()(O,{VBtn:S["a"],VIcon:v["a"],VTooltip:I["a"]});var R={name:"AppBar",components:{ProfileUser:L},methods:{routeHome:function(){this.$router.push("/")}}},P=R,k=(a("c39e"),a("40dc")),G=a("2fa4"),y=Object(s["a"])(P,T,b,!1,null,"555883d8",null),C=y.exports;h()(y,{VAppBar:k["a"],VBtn:S["a"],VIcon:v["a"],VSpacer:G["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{attrs:{flat:"",dense:"",dark:"",height:"40",color:"blue darken-3"}},[a("v-toolbar-items",[a("v-list",{staticClass:"app-bar-nav",attrs:{nav:"",dark:"",color:"blue darken-3",height:"40"}},[a("v-list-item-group",[a("v-list-item",{staticClass:"app-bar-nav__item",attrs:{dense:"",tag:"router-link",to:"/Tables"}},[a("v-list-item-icon",[a("v-icon",{attrs:{small:""}},[t._v("mdi-table")])],1),a("v-list-item-title",[t._v("Таблицы")])],1),a("v-list-item",{staticClass:"app-bar-nav__item",attrs:{dense:"",tag:"router-link",to:"/"}},[a("v-list-item-icon",[a("v-icon",{attrs:{small:""}},[t._v("mdi-home")])],1),a("v-list-item-title",[t._v("Домашняя страница")])],1),a("v-list-item",{staticClass:"app-bar-nav__item",attrs:{dense:"",tag:"router-link",to:"/SpreadSheetView"}},[a("v-list-item-icon",[a("v-icon",{attrs:{small:""}},[t._v("mdi-file-table-box-outline")])],1),a("v-list-item-title",[t._v("SpreadSheet")])],1)],1)],1)],1)],1)},w=[],U={name:"AppBarNav"},j=U,F=(a("1ac4"),a("8860")),x=a("da13"),V=a("1baa"),K=a("34c3"),Q=a("5d23"),B=a("71d9"),H=a("2a7f"),X=Object(s["a"])(j,M,w,!1,null,"77eab0ca",null),W=X.exports;h()(X,{VIcon:v["a"],VList:F["a"],VListItem:x["a"],VListItemGroup:V["a"],VListItemIcon:K["a"],VListItemTitle:Q["b"],VToolbar:B["a"],VToolbarItems:H["a"]});var $={name:"LayoutMain",components:{AppBar:C,AppBarNav:W},created:function(){null==localStorage.getItem("Token")&&this.$router.push("/Login")}},q=$,z=(a("55a0"),Object(s["a"])(q,m,_,!1,null,"12795968",null)),Y=z.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-print"},[a("router-view")],1)},Z=[],tt={name:"LayoutPrint"},et=tt,at=(a("5f66"),Object(s["a"])(et,J,Z,!1,null,"39e5b5fc",null)),nt=at.exports,it={name:"App",components:{LayoutEmpty:f,LayoutMain:Y,LayoutPrint:nt},computed:{layout:function(){return"Layout".concat(this.$route.meta.layout||"Main")}}},ut=it,ot=(a("5c0b"),a("7496")),ct=Object(s["a"])(ut,o,c,!1,null,null,null),rt=ct.exports;h()(ct,{VApp:ot["a"]});a("d3b7"),a("3ca3"),a("ddb0");var lt=a("8c4f");n["default"].use(lt["a"]);var st=[{path:"/Login",name:"Login",meta:{layout:"Empty"},component:function(){return Promise.all([a.e("chunk-619f256f"),a.e("chunk-58867bf6")]).then(a.bind(null,"a55b"))}},{path:"/Logout",name:"Logout",meta:{layout:"Empty"},component:function(){return a.e("chunk-1c63c43c").then(a.bind(null,"c100"))}},{path:"/",name:"",meta:{layout:"Main"},component:function(){return a.e("chunk-75e236f5").then(a.bind(null,"bb51"))}},{path:"/Home",name:"Home",meta:{layout:"Main"},component:function(){return a.e("chunk-75e236f5").then(a.bind(null,"bb51"))}},{path:"/Tables",name:"Tables",meta:{layout:"Main"},component:function(){return a.e("chunk-7f821867").then(a.bind(null,"8840"))}},{path:"/TablesPage",name:"TablesPage",meta:{layout:"Main"},component:function(){return Promise.all([a.e("chunk-619f256f"),a.e("chunk-dbc48c6c")]).then(a.bind(null,"a2ff"))}},{path:"/SpreadSheetView",name:"SpreadSheetView",meta:{layout:"Main"},component:function(){return Promise.all([a.e("chunk-1c8f9854"),a.e("chunk-d3a0a240"),a.e("chunk-619f256f"),a.e("chunk-afa86b7c"),a.e("chunk-63bbbbd2")]).then(a.bind(null,"b5db"))},props:!0},{path:"/SpreadSheetPrint",name:"SpreadSheetPrint",meta:{layout:"Print"},component:function(){return Promise.all([a.e("chunk-afa86b7c"),a.e("chunk-23a17180")]).then(a.bind(null,"be6c"))},props:!0},{path:"/Test",name:"Test",meta:{layout:"Main"},component:function(){return Promise.all([a.e("chunk-1c8f9854"),a.e("chunk-619f256f"),a.e("chunk-9aa0e4ae")]).then(a.bind(null,"78c1"))}}],dt=new lt["a"]({mode:"history",base:"/mf__table/",routes:st}),Et=dt,ft=a("4360"),mt=a("402c"),_t=a("b6d0");n["default"].use(_t["a"]);var Tt=_t["a"];n["default"].component("virtual-list",u.a),n["default"].config.productionTip=!1,new n["default"]({router:Et,store:ft["a"],vuetify:mt["a"],VueMask:Tt,render:function(t){return t(rt)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"5f66":function(t,e,a){"use strict";a("c2a8")},"9c0c":function(t,e,a){},a7ad:function(t,e,a){"use strict";a("f876")},c2a8:function(t,e,a){},c39e:function(t,e,a){"use strict";a("f916")},ea16:function(t,e,a){},f876:function(t,e,a){},f916:function(t,e,a){}});
//# sourceMappingURL=app.45445798.js.map