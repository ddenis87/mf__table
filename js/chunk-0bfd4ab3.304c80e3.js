(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bfd4ab3"],{"0701":function(e,t,i){"use strict";i("1475")},"0b9c":function(e,t,i){"use strict";i.r(t),i.d(t,"TheTable",(function(){return yt}));i("a9e3");var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"data-table",class:e.guid},[i("v-overlay",{attrs:{value:e.isLoadingData&&e.isBlock,light:"","z-index":"999",opacity:"0.01",color:"white",absolute:!0}}),i("data-table-tooltip",{attrs:{"is-show":e.isShowTooltip,"data-properties":e.propertiesTooltip},on:{click:function(t){e.isShowTooltip=!1},mousemove:function(t){e.isShowTooltip=!1}}},[e._v(" "+e._s(e.propertiesTooltip.text)+" ")]),i("data-table-overflow",{attrs:{guid:e.guid,properties:e.propertiesTooltip},on:{"is-show":function(t){e.isShowTooltip=!0},"is-hide":function(t){e.isShowTooltip=!1}}}),i("div",{staticClass:"data-table__header"},[i("data-table-header",{attrs:{template:e.dataTableTemplate,"type-row":e.propsTable.typeRow,"type-column":e.propsTable.typeColumn,items:e.listHeaders,"is-multiline":e.propsTable.isMultiline},on:{"set-sorting":e.setSorting,"show-tooltip":e.showTooltip,"hide-tooltip":e.hideTooltip}}),i("el-progress-bar",{attrs:{"is-show":e.isLoadingData}})],1),i("div",{class:e.guid+"__boot-anchor-previous data-table__boot-anchor-previous"}),i("div",{staticClass:"data-table__body-group"},[i("data-table-body-group",{attrs:{"table-name":e.tableName,template:e.dataTableTemplate,"group-level":e.listDataGroupLevel,"start-column":e.propsTable.typeColumn?e.headers[1]:e.headers[0],"type-row":e.propsTable.typeRow,"type-column":e.propsTable.typeColumn,"is-expansion":e.propsTable.isExpansion,"is-multiline":e.propsTable.isMultiline,"is-editable":e.propsTable.isEditableinline,"is-hierarchy-mode":e.propsTable.isHierarchy,items:e.listDataGroup,"items-header":e.listHeaders},on:{"toggle-group":e.toggleGroup}})],1),i("div",{staticClass:"data-table__body"},[i("data-table-body",{attrs:{guid:e.guid,"table-name":e.tableName,template:e.dataTableTemplate,"type-row":e.propsTable.typeRow,"type-column":e.propsTable.typeColumn,items:e.listData,"items-header":e.listHeaders,"group-level":e.listDataGroupLevel,"is-editable":e.propsTable.isEditableInline,"is-adding-inline":e.propsTable.isAddingInline,"is-expansion":e.propsTable.isExpansion,"is-multiline":e.propsTable.isMultiline,"is-hierarchy-mode":e.propsTable.isHierarchy},on:{"toggle-group":e.toggleGroup,"event-row-focused":e.focusedElement,"event-row-selected":e.selectedElement,"event-row-keydown":e.eventRowKeydown,"event-body-blur":e.blurComponent,"adding-new-element":e.addingNewElement,"show-tooltip":e.showTooltip,"hide-tooltip":e.hideTooltip}})],1),i("div",{class:e.guid+"__boot-anchor"}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.propsTable.isFooter,expression:"propsTable.isFooter"}],staticClass:"data-table__footer"},[e._t("component-footer",[i("data-table-footer",{attrs:{listDataCount:e.countDataTotal,listDataCountLoad:e.countDataLoaded,"type-column":e.propsTable.typeColumn}})])],2),i("div",{staticClass:"data-table__dialog-modal"})],1)},n=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"data-overflow "+e.guid+"-data-overflow",style:e.styleParent},[i("div",{class:"data-overflow-block "+e.guid+"-data-overflow-block"},[e._v(e._s(e.content))]),i("div",{class:"data-overflow-line "+e.guid+"-data-overflow-line"},[e._v(e._s(e.content))])])},r=[],s={name:"DataTableOverflow",props:{guid:"",properties:{type:Object,default:function(){return{width:0,height:0,text:""}}}},data:function(){return{isTimer:null}},computed:{styleParent:function(){var e=this;return this.$emit("is-hide"),setTimeout((function(){return e.computedOverflow()}),50),{width:this.properties.width-24+"px",height:this.properties.height+"px"}},content:function(){return this.$emit("is-hide"),this.properties.text}},methods:{computedOverflow:function(){var e=document.querySelector(".".concat(this.guid,"-data-overflow")),t=document.querySelector(".".concat(this.guid,"-data-overflow-block"));if(e.getBoundingClientRect().height+12<t.getBoundingClientRect().height)this.$emit("is-show");else{var i=document.querySelector(".".concat(this.guid,"-data-overflow-line"));e.getBoundingClientRect().width+16<i.getBoundingClientRect().width?this.$emit("is-show"):this.$emit("is-hide")}}}},l=s,u=(i("6f0c"),i("2877")),d=Object(u["a"])(l,a,r,!1,null,"2172cd81",null),c=d.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tooltip",class:{tooltip_show:e.isShow},style:e.position,attrs:{id:"tooltip"},on:{click:function(t){return e.$emit("click")},mousemove:function(t){return e.$emit("mousemove")}}},[e._t("default")],2)},m=[],f={name:"DataTableTooltip",props:{isShow:{type:Boolean,default:!1},dataProperties:{type:Object,default:function(){return{left:{type:Number,default:-300},top:{type:Number,default:-300},width:Number}}}},computed:{position:function(){return{left:0==this.dataProperties.left?"-20px":this.dataProperties.left+"px",top:this.dataProperties.top+"px","min-width":this.dataProperties.width+"px","max-width":1.3*this.dataProperties.width+"px"}}}},h=f,g=(i("9b6a"),Object(u["a"])(h,p,m,!1,null,"0ad6a6df",null)),b=g.exports,v=i("6fdf"),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header",on:{mouseover:e.eventMouseOver,mouseout:e.eventMouseOut}},[i("div",{staticClass:"header-row",class:"header-row_"+e.typeRow,style:e.template,on:{click:function(t){return e.eventClickColumn(t)}}},[e.computedActionMax&&!e.isMultiline?i("div",{staticClass:"header-column header-column__action-max",class:"header-column_"+e.typeColumn},[i("span",{staticStyle:{visibility:"hidden"}},[e._v("1")])]):e._e(),e._l(e.items,(function(t,o){return i("div",{key:"header-"+o,staticClass:"header-column",class:"header-column_"+e.typeColumn,style:t.position_in_template,attrs:{"data-overflow-text":t.label,"data-key":t.value}},[i("data-table-content-display",{attrs:{value:t.label,properties:{type:"string"},"type-row":e.typeRow}}),i("div",{staticClass:"header-column__sort"},[i("v-icon",[e._v("mdi-menu-down")])],1)],1)}))],2)])},E=[],_=(i("ac1f"),i("5319"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-display",class:"content-display_"+e.typeRow,style:"text-align: "+e.properties["align"]},[e._v(" "+e._s(e.displayValue)+" ")])}),w=[],T=(i("a15b"),i("1276"),i("fb6a"),i("99af"),i("466d"),i("159b"),{computed:{computedActionMax:function(){return"auto"!=this.typeRow&&1==this.isExpansion}},methods:{gettingValueForType:function(e,t){if(null==t)return"";switch(e.type){case"string":case"integer":return t;case"date":return t.split("-").reverse().join(".");case"datetime":var i="",o="";return i=t.split("T")[0].split("-").reverse().join("."),o=t.split("T")[1].slice(0,5),"".concat(i," ").concat(o);case"choice":return t["display_name"];case"field":var n=this.$store.getters["DataTable/GET_RELATED_MODEL_VIEW"]({tableName:e["related_model_name"]}),a=n.match(/[{\w}]/gi).join(",").replace(/,/g,"").slice(1,-1).split("}{");return a.forEach((function(e){n=n.replace("{".concat(e,"}"),t[e])})),n}}}}),D={name:"DataTableContentDisplay",mixins:[T],props:{value:null,properties:{type:Object,default:function(){}},typeRow:{type:String,default:"fixed"}},computed:{displayValue:function(){return this.gettingValueForType(this.properties,this.value)}}},x=D,A=(i("d1e9"),Object(u["a"])(x,_,w,!1,null,"b31cee7a",null)),S=A.exports,C={data:function(){return{isSortingOrderAsc:!1,isSortingCurrentField:"",isTooltipTimer:null}},methods:{eventMouseOver:function(e){var t=this;e.target.classList.contains("content-display")&&(this.isTooltipTimer=setTimeout((function(){var i=e.target.closest(".header-column").getBoundingClientRect();t.$emit("show-tooltip",Object.assign(i,{text:e.target.closest(".header-column").getAttribute("data-overflow-text")}))}),1100))},eventMouseOut:function(e){var t,i;clearTimeout(this.isTooltipTimer),null!==(t=e.relatedTarget)&&void 0!==t&&null!==(i=t.classList)&&void 0!==i&&i.contains("tooltip")||this.$emit("hide-tooltip")},eventClickColumn:function(e){console.log(e),e.target.closest(".header-row").querySelector(".header-column__sort_active")&&(e.target.closest(".header-row").querySelector(".header-column__sort_active").classList.remove("header-column__sort_active_asc"),e.target.closest(".header-row").querySelector(".header-column__sort_active").classList.remove("header-column__sort_active"));var t=e.target.closest(".header-column");t.querySelector(".header-column__sort").classList.add("header-column__sort_active"),0==this.isSortingOrderAsc?(this.isSortingOrderAsc=!0,t.querySelector(".header-column__sort").classList.add("header-column__sort_active_asc")):(this.isSortingOrderAsc=!1,t.querySelector(".header-column__sort").classList.remove("header-column__sort_active_asc")),this.isSortingCurrentField!=t.getAttribute("data-key")&&(this.isSortingCurrentField=t.getAttribute("data-key"),this.isSortingOrderAsc=!0,t.querySelector(".header-column__sort").classList.add("header-column__sort_active_asc"));var i={ordering:this.isSortingOrderAsc,key:t.getAttribute("data-key")};this.$emit("set-sorting",i)}}},O={name:"DataTableHeader",components:{DataTableContentDisplay:S},mixins:[T,C],props:{template:Object,typeRow:{type:String,default:"fixed"},typeColumn:{type:String,default:"fixed"},items:{type:Array,default:function(){return[]}},isMultiline:{type:Boolean,default:!1}},computed:{computedTemplate:function(){var e=Object.assign({},this.template);return 0!=this.items.length&&(e["grid-template-areas"]=e["grid-template-areas"].replace("group",this.items[0].value)),e}}},R=O,G=(i("5f70"),i("6544")),N=i.n(G),L=i("132d"),F=Object(u["a"])(R,y,E,!1,null,"e1bab204",null),I=F.exports;N()(F,{VIcon:L["a"]});var $=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"body-group"},e._l(e.items,(function(t,o){return i("div",{key:"body-group-row-"+o,staticClass:"body-group-row",class:"body-group-row_"+e.typeRow,style:e.template,attrs:{tabindex:o}},[e.computedActionMax&&!e.isMultiline?i("div",{staticClass:"body-group-column__action-max",class:"body-group-column_"+e.typeColumn},[i("span",{staticStyle:{visibility:"hidden"}},[e._v("1")])]):e._e(),e._l(e.itemsHeader,(function(n,a){return i("div",{key:"body-group-column-"+a,staticClass:"body-group-column",class:"body-group-column_"+e.typeColumn,style:0==a?e.computedTemplateItem(n.position_in_template,o):n.position_in_template,attrs:{tabindex:e.isEditable?a:"","data-overflow-text":e.gettingValueForType(n,t[n.value])}},[e.isHierarchyMode&&0==a?i("hierarchy-column",{staticClass:"body-group-column__group",attrs:{"item-row":t,"data-id":t.id},on:{"toggle-group":function(i){return e.$emit("toggle-group",t)}}}):e._e(),i("div",{staticClass:"box-display"},[i("data-table-content-display",{attrs:{value:t[n.value],properties:n,"type-row":e.typeRow}})],1)],1)}))],2)})),0)},k=[],V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"group-item"},[e.isGroup?i("data-table-btn-icon",{staticClass:"action-btn",on:{click:e.eventToggleGroup}},[e._v("mdi-menu-right")]):e._e()],1),i("div",{staticClass:"group-item"},[e.isGroup?i("v-icon",{attrs:{small:""}},[e._v("mdi-folder")]):e._e()],1),i("div",{staticClass:"group-item"},[e.isGroup?e._e():i("v-icon",{attrs:{small:""}},[e._v("mdi-window-minimize")])],1)])},M=[],j=i("53ca"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-btn",{staticClass:"action-btn",attrs:{icon:"",width:"16",height:"16",disabled:e.isDisabled},on:{click:function(t){return e.$emit("click",t)}}},[i("v-icon",{attrs:{color:e.iconColor}},[e._t("default")],2)],1)},P=[],U={name:"ElButtonIcon",props:{iconColor:{type:String,default:""},isDisabled:{type:Boolean,default:!1}}},q=U,H=i("8336"),K=Object(u["a"])(q,B,P,!1,null,"5400b6ec",null),Y=K.exports;N()(K,{VBtn:H["a"],VIcon:L["a"]});var W={name:"HierarchyActions",components:{DataTableBtnIcon:Y},props:{itemRow:{type:Object,default:function(){return null}},isOpen:{type:Boolean,default:!1}},data:function(){return{}},computed:{isGroup:function(){return"object"==Object(j["a"])(this.itemRow)&&("is_group"in this.itemRow&&this.itemRow.is_group)}},methods:{eventToggleGroup:function(e){this.$emit("toggle-group",e)}}},z=W,Q=(i("fb6d"),Object(u["a"])(z,V,M,!1,null,"43ba9d45",null)),X=Q.exports;N()(Q,{VIcon:L["a"]});var J={methods:{storeToggleGroup:function(e){this.$store.dispatch("DataTable/SELECTED_GROUP",e)}}},Z={name:"DataTableBodyGroup",components:{DataTableContentDisplay:S,HierarchyColumn:X},mixins:[J,T],props:{guid:{type:String,default:""},tableName:{type:String,default:""},groupLevel:{type:Number,default:0},template:Object,startColumn:"",typeRow:{type:String,default:"fixed"},typeColumn:{type:String,default:"fixed"},isExpansion:{type:Boolean,default:!1},isMultiline:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},itemsHeader:{type:Array,default:function(){return[]}},isEditable:{type:Boolean,default:!1},isHierarchyMode:{type:Boolean,default:!1}},methods:{computedTemplateItem:function(e,t){return e["padding-left"]="".concat(20*t,"px"),e}}},ee=Z,te=(i("0701"),Object(u["a"])(ee,$,k,!1,null,"205f8cdc",null)),ie=te.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"body",on:{mouseover:e.eventMouseOver,mouseout:e.eventMouseOut}},e._l(e.items,(function(t,o){return i("div",{key:"body-row-"+o,staticClass:"body-row",class:"body-row_"+e.typeRow,style:e.template,attrs:{tabindex:o,"data-rowId":t.id},on:{focus:function(i){return e.eventRowFocus(i,t)},blur:e.eventRowBlur,dblclick:function(i){return e.eventRowDblclick(i,t)},keydown:function(i){return i.stopPropagation(),function(i){return e.eventRowKeydown(i,t)}(i)}}},[e.computedActionMax&&!e.isMultiline?i("div",{staticClass:"body-column__action-max",class:"body-column_"+e.typeColumn},[i("v-btn",{staticClass:"action-btn",attrs:{"x-small":"",icon:""},on:{click:e.eventExpansionRow}},[i("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-down")])],1)],1):e._e(),e._v(" "),e._l(e.itemsHeader,(function(o,n){return i("div",{key:"body-column-"+n,staticClass:"body-column",class:"body-column_"+e.typeColumn,style:0==n?e.computedTemplateItem(o.position_in_template):o.position_in_template,attrs:{tabindex:e.isEditable?n:"","data-overflow-text":e.gettingValueForType(o,t[o.value])},on:{focus:function(i){return e.eventColumnFocus(i,t)},blur:e.eventColumnBlur,dblclick:function(i){return e.eventColumnDblclick(i,t,o,t[o.value])},keydown:function(i){return i.stopPropagation(),function(i){return e.eventColumnKeydown(i,t,o,t[o.value])}(i)},"editing-canceled":e.editingCanceled,"editing-accepted":e.editingAccepted}},[e.isHierarchyMode&&0==n?i("hierarchy-column",{staticClass:"body-column__group",attrs:{"item-row":t,"data-id":t.id},on:{"toggle-group":function(i){return e.$emit("toggle-group",t)}}}):e._e(),e._m(0,!0),i("div",{staticClass:"box-display"},[i("data-table-content-display",{attrs:{value:t[o.value],properties:o,"type-row":e.typeRow}})],1)],1)}))],2)})),0)},ne=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box-editing display-none"},[i("div",{staticClass:"box-editing-default"})])}],ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"group-item"},[i("data-table-btn-icon",{directives:[{name:"show",rawName:"v-show",value:e.isGroup,expression:"isGroup"}],staticClass:"action-btn",on:{click:e.eventToggleGroup}},[e._v("mdi-menu-right")])],1),i("div",{staticClass:"group-item"},[e.isGroup?i("v-icon",{attrs:{small:""}},[e._v("mdi-folder")]):e._e()],1),i("div",{staticClass:"group-item"},[e.isGroup?e._e():i("v-icon",{attrs:{small:""}},[e._v("mdi-window-minimize")])],1)])},re=[],se={name:"HierarchyColumn",components:{DataTableBtnIcon:Y},props:{itemRow:{type:Object,default:function(){return null}},isOpen:{type:Boolean,default:!1}},data:function(){return{}},computed:{isGroup:function(){return"object"==Object(j["a"])(this.itemRow)&&("is_group"in this.itemRow&&this.itemRow.is_group)}},methods:{eventToggleGroup:function(e){this.$emit("toggle-group")}}},le=se,ue=(i("ee50"),Object(u["a"])(le,ae,re,!1,null,"6d810883",null)),de=ue.exports;N()(ue,{VIcon:L["a"]});var ce=i("1da1"),pe=(i("96cf"),i("caad"),i("2532"),i("2b0e")),me=i("402c"),fe=i("4360"),he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"edit-field"},[i("field-wrapper",e._b({ref:"wrapper",on:{"control:esc":e.editingCanceled,"keydown:control":e.editingAccept,"blur:wrapper":e.editingAccept},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"field-wrapper",e.fieldProps,!1))],1)},ge=[],be=i("5530"),ve=(i("b64b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-wrapper",class:["field-wrapper_"+e.typeRow,{required:e.isRequired}]},[i(e.field,e._b({ref:"field",tag:"component",on:{"keydown:key":function(e){e.stopPropagation()},"keydown:control":function(t){return t.preventDefault(),e.evtKeydownControl(t)},"blur:input":e.evtBlur},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"component",e.fieldProps,!1))],1)}),ye=[],Ee=i("a7c0"),_e=i("c844"),we=i("07c0"),Te=i("aaa4"),De=i("52d2"),xe={name:"FieldWrapper",components:{FieldText:Ee["a"],FieldNumber:_e["a"],FieldChoice:we["a"],FieldDate:Te["a"],FieldDialog:De["a"]},model:{prop:"fieldValueInput",event:"input"},props:{fieldOptions:{type:Object,default:function(){}},fieldValueInput:{type:[String,Number,Date,Object],default:null},typeRow:{type:String,default:"fixed"},isSelected:{type:Boolean,default:!1}},data:function(){return{fieldValue:"",fields:{string:Ee["a"],integer:_e["a"],choice:we["a"],date:Te["a"],field:De["a"]},isEmit:!1}},computed:{isRequired:function(){return this.fieldOptions.required||!1},field:function(){return this.fields[this.fieldOptions.type]},fieldProps:function(){var e={isFlat:!0,isSolo:!0,isSingleLine:!0,isSelected:this.isSelected};return this.fieldOptions.choices&&(e.items=this.fieldOptions.choices),this.fieldOptions["related_model_name"]&&(e.relatedModelName=this.fieldOptions["related_model_name"],e.itemText="text",e.itemValue="id"),e}},watch:{fieldValueInput:function(){var e=this;this.$nextTick().then((function(){e.fieldValue=e.fieldValueInput}))}},methods:{evtInput:function(){this.$emit("input",this.fieldValue)},evtKeydownControl:function(e){this.isEmit=!0,this.evtInput(),"Escape"!==e.code?this.$emit("keydown:control",{event:e,fieldKey:this.fieldOptions.value}):this.$emit("control:esc")},evtBlur:function(e){this.evtInput(),this.isEmit||this.$emit("blur:wrapper",{event:e,fieldKey:this.fieldOptions.value})}}},Ae=xe,Se=(i("1e87"),Object(u["a"])(Ae,ve,ye,!1,null,"6608e086",null)),Ce=Se.exports,Oe={name:"EditField",components:{FieldWrapper:Ce},props:{propertiesComponent:{type:Object,default:function(){return{tableName:"",guid:""}}},propertiesField:{type:Object,default:function(){return{fieldOption:Object,fieldValue:null}}},element:null,typeRow:{type:String,default:"fixed"}},data:function(){return{fieldValue:null}},computed:{fieldProps:function(){console.log(this.propertiesComponent),console.log(this.propertiesField),console.log(this.element);var e={fieldOptions:this.propertiesField.fieldOption,isSelected:!0};return e},fieldOption:function(){return this.propertiesField.fieldOption},fieldsElement:function(){for(var e=[],t=0,i=Object.keys(this.element);t<i.length;t++){var o=i[t];e.push({key:o,value:this.computedValueField(this.element[o])})}return e}},mounted:function(){this.fieldValue=this.propertiesField.fieldValue||null},beforeDestroy:function(){console.log("destroy")},methods:{editingAccept:function(e){this.saveElementFieldInStore(this.fieldValue);var t=this.buildForm(),i=Object(be["a"])(Object(be["a"])({},this.propertiesComponent),{},{id:this.element["id"],fieldName:this.fieldOption.value,value:this.computedValueField(this.fieldValue),formData:t});this.$store.dispatch("DataTable/UPDATE_ELEMENT_FIELD",i),console.log(e);var o=new CustomEvent("editing-accepted",{detail:{key:"blur"==e.event.type?"Enter":e.event.key,keyShift:e.event.shiftKey}});document.querySelector(".body-column_editing");document.querySelector(".body-column_editing")&&document.querySelector(".body-column_editing").dispatchEvent(o),this.removeFormEditField()},editingCanceled:function(){var e=document.querySelector(".body-column_editing"),t=new CustomEvent("editing-canceled");e.dispatchEvent(t),this.removeFormEditField()},saveElementFieldInStore:function(e){var t=Object(be["a"])(Object(be["a"])({},this.propertiesComponent),{},{id:this.element["id"],fieldName:this.fieldOption.value,value:e});this.$store.dispatch("DataTable/ADDING_NEW_ELEMEN_INLINE_FIELD",t)},computedValueField:function(e){var t=null;return t="object"==Object(j["a"])(e)&&null!=e?"id"in e?e.id:e.value:null!=e?e:"",t},buildForm:function(){var e=new FormData;return this.fieldsElement.forEach((function(t){""!=t.value&&e.set(t.key,t.value)})),e.set(this.fieldOption.value,this.computedValueField(this.fieldValue)),e},removeFormEditField:function(){document.querySelector(".edit-field")&&document.querySelector(".edit-field").remove()}}},Re=Oe,Ge=Object(u["a"])(Re,he,ge,!1,null,null,null),Ne=Ge.exports,Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"FormEditElement",staticClass:"edit-element",class:{"edit-element_padding-group":e.isHierarchyMode}},[i("div",{staticClass:"element",class:"element_"+e.typeRow,style:e.styleForm},e._l(e.itemsHeader,(function(t,o){return i("field-wrapper",{key:o,attrs:{"field-options":t,"type-row":e.typeRow},on:{"control:esc":e.editingCanceled,"keydown:control":e.eventKeydown,"blur:wrapper":e.evtBlur},model:{value:e.fieldValue[t.value],callback:function(i){e.$set(e.fieldValue,t.value,i)},expression:"fieldValue[item.value]"}})})),1),i("v-snackbar",{attrs:{"content-class":"snack",color:"red darken-3"},model:{value:e.isShowError,callback:function(t){e.isShowError=t},expression:"isShowError"}},[e._v(e._s("Не заполнены все обязательные поля"))])],1)},Fe=[],Ie=(i("d3b7"),i("4fad"),{name:"EditElement",components:{FieldWrapper:Ce},props:{propertiesComponent:{type:Object,default:function(){return{tableName:"",guid:""}}},itemsHeader:null,styleForm:Object,typeRow:{type:String,default:"fixed"},isHierarchyMode:{type:Boolean,default:!1}},data:function(){return{fieldsElement:{},fieldValue:{},isShowError:!1}},computed:{getListGroup:function(){return this.$store.getters["DataTable/GET_DATA_GROUP"]({tableName:this.propertiesComponent.tableName,guid:this.propertiesComponent.guid})}},mounted:function(){var e=this;setTimeout((function(){e.$refs.FormEditElement.firstChild.firstChild.querySelector(".field-item input").focus()}),400),this.itemsHeader.forEach((function(t){e.fieldValue[t.value]=""})),this.$store.commit("DataTable/MARK_MODE_ADDING",{tableName:this.propertiesComponent.tableName,guid:this.propertiesComponent.guid,status:!0})},methods:{editingAccepted:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.buildForm(),o=Object(be["a"])(Object(be["a"])({},e.propertiesComponent),{},{formData:i,previous:!0}),document.querySelector(".edit-element").remove(),e.$emit("clear-formEditrElement"),t.next=6,e.$store.dispatch("DataTable/ADDING_NEW_ELEMENT",o).then((function(t){var i=document.querySelectorAll(".".concat(e.propertiesComponent.guid,' .body [data-rowId="').concat(t,'"]'))[0],o=new Event("click",{bubbles:!1});setTimeout((function(){i.focus(),i.dispatchEvent(o)}),1e3)})).catch((function(){return e.addingModeOff()})).finally((function(){e.addingModeOff()}));case 6:case"end":return t.stop()}}),t)})))()},editingCanceled:function(){this.addingModeOff(),document.querySelector(".edit-element").remove()},eventKeydown:function(e){if(e.event.preventDefault(),this.fieldsElement[e.fieldKey]=this.fieldValue[e.fieldKey],"Tab"===e.event.code&&!1===e.event.shiftKey){var t=e.event.target.closest(".field-wrapper").nextElementSibling;t&&t.querySelector(".field-item input").focus()}if("Tab"===e.event.code&&!0===e.event.shiftKey){var i=e.event.target.closest(".field-wrapper").previousElementSibling;i&&i.querySelector(".field-item input").focus()}if(console.log(e.event.code),"Enter"===e.event.code||"Tab"===e.event.code&&!1===e.event.shiftKey){var o=e.event.target.closest(".field-wrapper").nextElementSibling;if(o)return void o.querySelector(".field-item input").focus();this.checkRequiredElementFields()?this.editingAccepted():(e.event.target.focus(),this.isShowError=!0)}},evtBlur:function(e){this.fieldsElement[e.fieldKey]=this.fieldValue[e.fieldKey],e.event.relatedTarget&&(e.event.relatedTarget.closest(".edit-element")||(this.checkRequiredElementFields()?this.editingAccepted():(setTimeout((function(){return e.event.target.focus()}),300),this.isShowError=!0)))},addingModeOff:function(){this.$store.commit("DataTable/MARK_MODE_ADDING",{tableName:this.propertiesComponent.tableName,guid:this.propertiesComponent.guid,status:null}),this.$store.commit("DataTable/SET_ACTIVE_ELEMENT",{tableName:this.propertiesComponent.tableName,guid:this.propertiesComponent.guid,value:null})},buildForm:function(){for(var e=new FormData,t=0,i=Object.entries(this.fieldsElement);t<i.length;t++){var o=i[t],n={key:o[0],value:o[1]};""!=n.value&&e.set(n.key,this.computedValueField(n.value))}if(this.getListGroup.length){var a=this.computedValueField(this.getListGroup[this.getListGroup.length-1]);e.set("parent",a)}return e},computedValueField:function(e){var t=null;return t="object"==Object(j["a"])(e)&&null!=e?"id"in e?e.id:e.value:null!=e?e:"",t},checkRequiredElementFields:function(){var e=this,t=!0;return this.itemsHeader.forEach((function(i){i.required&&["",void 0,null].includes(e.fieldsElement[i.value])&&(t=!1)})),t},nextElement:function(e){if(-1!=e.className.indexOf("edit-element"))return null;if(e.parentElement.nextElementSibling){var t=e.parentElement.nextElementSibling;if(t.querySelector(".field > .el-field__item")){if(t=t.querySelector(".field > .el-field__item"),-1==t.parentElement.getAttribute("tabindex"))return void this.nextElement(t.parentElement);if(t.querySelector("input"))return t.querySelector("input").focus();if(t.querySelector("textarea"))return t.querySelector("textarea").focus()}}this.nextElement(e.parentElement)}}}),$e=Ie,ke=(i("c4af"),i("2db4")),Ve=Object(u["a"])($e,Le,Fe,!1,null,"8c21df06",null),Me=Ve.exports;N()(Ve,{VSnackbar:ke["a"]});var je={data:function(){return{isTooltipTimer:null,formEditField:null,formEditElement:null}},computed:{getAddingMode:function(){return!!this.$store.getters["DataTable/GET_MARK_MODE_ADDING"]({tableName:this.tableName,guid:this.guid})},getEventAdding:function(){return this.$store.getters["DataTable/GET_MARK_EVENTS_ADDING"]({tableName:this.tableName,guid:this.guid})}},watch:{getEventAdding:function(){if(this.getEventAdding){var e,t=this.$store.getters["DataTable/GET_ACTIVE_ELEMENT"]({tableName:this.tableName,guid:this.guid});e=t?document.querySelector(".".concat(this.guid,' .body [data-rowid="').concat(t.id,'"]')):null,this.mountFormEditElement({targetInsert:e})}}},methods:{eventExpansionRow:function(e){e.target.closest(".action-btn").classList.toggle("action-btn_action"),e.target.closest(".body-row").classList.toggle("body-row_auto");var t=e.target.closest(".body-row").querySelectorAll(".content-display");t.forEach((function(e){e.classList.toggle("content-display_auto")}))},eventColumnDblclick:function(e,t,i,o){if(this.getAddingMode)e.preventDefault();else if(this.checkForEditable(e,i)){if(this.switchDecorationToEdit(e),e.target.closest(".body-column").querySelector(".box-editing-default")){var n=e.target.closest(".body-column").querySelector(".box-editing-default");this.mountFormEditField({targetInsert:n,fieldOption:i,fieldValue:o,element:t})}}else if(this.isModeAdding){var a=e.target.nextElementSibling;if(!a)return void this.editingAcceptedNewElement();var r=new Event("dblclick",{bubbles:!1});a.focus(),a.dispatchEvent(r)}},mountFormEditField:function(e){var t={tableName:this.tableName,guid:this.guid},i={fieldOption:e.fieldOption,fieldValue:e.fieldValue},o=pe["default"].extend(Ne);this.formEditField=new o({vuetify:me["a"],store:fe["a"],propsData:{propertiesComponent:t,propertiesField:i,element:e.element,typeRow:this.typeRow}}).$mount(),e.targetInsert.prepend(this.formEditField.$el)},mountFormEditElement:function(e){var t={tableName:this.tableName,guid:this.guid},i=pe["default"].extend(Me);this.formEditElement=new i({vuetify:me["a"],store:fe["a"],propsData:{propertiesComponent:t,itemsHeader:this.itemsHeader,styleForm:this.template,typeRow:this.typeRow,isHierarchyMode:this.isHierarchyMode}}).$mount(),e.targetInsert?e.targetInsert.after(this.formEditElement.$el):document.querySelector(".".concat(this.guid," .body")).prepend(this.formEditElement.$el)},checkForEditable:function(e,t){return!!this.isEditable&&(!t["read_only"]&&(1!=t["disabled"]&&!e.target.closest(".body-column").querySelector(".box-display.display-none")))},switchDecorationToDisplay:function(){this.isColumnEditing=!1,this.isColumnFocus=!1;var e=document.querySelector(".body-column_editing");e.classList.remove("body-column_editing"),e.querySelector(".box-display").classList.remove("display-none"),e.querySelector(".box-editing").classList.add("display-none")},switchDecorationToEdit:function(e){this.isColumnEditing=!0;var t=e.target.closest(".body-column");t.classList.add("body-column_editing"),t.querySelector(".box-display").classList.add("display-none"),t.querySelector(".box-editing").classList.remove("display-none")},editingCanceled:function(){this.formEditField=null;var e=document.querySelector(".body-column_editing");e.classList.remove("body-column_focus"),e.parentElement.classList.remove("body-row_focus"),this.switchDecorationToDisplay(),this.$emit("event-body-blur")},editingAccepted:function(e){switch(e.detail.key){case"Enter":this.switchDecorationToDisplay(),e.target.focus();break;case"Tab":var t=null;if(t=e.detail.keyShift?e.target.previousElementSibling:e.target.nextElementSibling,this.switchDecorationToDisplay(),e.target.classList.remove("body-column_focus"),!t)return void(null!=this.$store.getters["DataTable/GET_ADDING_MODE"]({tableName:this.tableName,guid:this.guid}).index?this.$emit("adding-new-element"):(e.target.closest(".body-row").classList.remove("body-row_hover"),e.target.closest(".body-row").classList.remove("body-row_focus")));setTimeout((function(){var e=new Event("dblclick",{bubbles:!1});t.focus(),t.dispatchEvent(e)}),10);break}this.formEditField=null},eventMouseOver:function(e){var t,i=this;this.getAddingMode?e.preventDefault():(this.isColumnEditing||"auto"==this.typeRow||(this.isTooltipTimer=setTimeout((function(){if(e.target.closest(".body-column > .box-display")){var t=e.target.closest(".body-column > .box-display").getBoundingClientRect();i.$emit("show-tooltip",Object.assign(t,{text:e.target.closest(".body-column").getAttribute("data-overflow-text")}))}}),1100)),this.isColumnFocus||this.isColumnEditing||this.isRowFocus||this.getAddingMode||null===(t=e.target.closest(".body-row"))||void 0===t||t.classList.add("body-row_hover"))},eventMouseOut:function(e){var t,i,o;clearTimeout(this.isTooltipTimer),null!==(t=e.relatedTarget)&&void 0!==t&&null!==(i=t.classList)&&void 0!==i&&i.contains("tooltip")||(null===(o=e.target.closest(".body-row"))||void 0===o||o.classList.remove("body-row_hover"),this.$emit("hide-tooltip"))},eventRowKeydown:function(e,t){console.log("event row keydown"),this.getAddingMode?e.preventDefault():(e.code.includes("Arrow")||"Tab"==e.code)&&(e.preventDefault(),("ArrowDown"==e.code&&e.target.nextElementSibling||"Tab"==e.code&&0==e.shiftKey)&&e.target.nextElementSibling.focus(),("ArrowUp"==e.code&&e.target.previousElementSibling||"Tab"==e.code&&1==e.shiftKey)&&e.target.previousElementSibling.focus())},eventRowDblclick:function(e,t){if(this.getAddingMode)e.preventDefault();else{var i=Object.assign({},t);"text"in i&&delete i.text,this.$emit("event-row-selected",e,i)}},eventColumnKeydown:function(e,t,i,o){var n=this;return Object(ce["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.getAddingMode){a.next=3;break}return e.preventDefault(),a.abrupt("return");case 3:if(!e.code.includes("Arrow")&&"Tab"!=e.code){a.next=17;break}if(e.preventDefault(),!("ArrowRight"==e.code&&e.target.nextElementSibling||"Tab"==e.code&&0==e.shiftKey&&e.target.nextElementSibling)){a.next=8;break}return e.target.nextElementSibling.focus(),a.abrupt("return");case 8:if(!("ArrowLeft"==e.code&&e.target.previousElementSibling||"Tab"==e.code&&1==e.shiftKey)){a.next=11;break}return e.target.previousElementSibling.focus(),a.abrupt("return");case 11:if("ArrowDown"!=e.code&&"ArrowUp"!=e.code){a.next=17;break}return r=e.target.getAttribute("tabindex"),n.isExpansion&&r++,"ArrowDown"==e.code&&e.target.parentElement.nextElementSibling&&e.target.parentElement.nextElementSibling.children[r].focus(),"ArrowUp"==e.code&&e.target.parentElement.previousElementSibling&&e.target.parentElement.previousElementSibling.children[r].focus(),a.abrupt("return");case 17:(e.code.includes("Key")||e.code.includes("Numpad")||e.code.includes("Digit")||"Enter"==e.code)&&n.eventColumnDblclick(e,t,i,o),"Insert"==e.code&&(s=e.target.closest(".body-row"),n.mountFormEditElement({targetInsert:s}));case 19:case"end":return a.stop()}}),a)})))()},eventRowFocus:function(e,t){this.getAddingMode?e.preventDefault():(this.isRowFocus=!0,e.target.classList.remove("body-row_hover"),e.target.classList.add("body-row_focus"),this.$emit("event-row-focused",e,t))},eventRowBlur:function(e){this.isRowFocus=!1,e.target.classList.remove("body-row_focus"),e.relatedTarget||this.$emit("event-body-blur")},eventColumnFocus:function(e,t){this.$emit("hide-tooltip"),this.getAddingMode?e.preventDefault():(this.isColumnFocus=!0,e.target.parentElement.classList.remove("body-row_hover"),e.target.parentElement.classList.add("body-row_focus"),e.target.classList.add("body-column_focus"),this.$emit("event-row-focused",e,t))},eventColumnBlur:function(e){this.isColumnEditing||(this.isColumnFocus=!1,e.target.parentElement.classList.remove("body-row_focus"),e.target.classList.remove("body-column_focus")),e.relatedTarget||this.$emit("event-body-blur")}}},Be={name:"DataTableBody",components:{DataTableOverflow:c,DataTableTooltip:b,DataTableContentDisplay:S,HierarchyColumn:de},mixins:[je,T],props:{guid:{type:String,default:""},tableName:{type:String,default:""},template:Object,typeRow:{type:String,default:"fixed"},typeColumn:{type:String,default:"fixed"},items:{type:Array,default:function(){return[]}},itemsHeader:{type:Array,default:function(){return[]}},groupLevel:{type:Number,default:0},isEditable:{type:Boolean,default:!1},isAddingInline:{type:Boolean,default:!1},isExpansion:{type:Boolean,default:!1},isMultiline:{type:Boolean,default:!1},isHierarchyMode:{type:Boolean,default:!1}},data:function(){return{isDataLoad:!1,isTimerLoad:null}},watch:{typeRow:function(){console.log(this.typeRow)}},mounted:function(){},methods:{computedTemplateItem:function(e){return e["padding-left"]=this.isHierarchyMode?"".concat(20*this.groupLevel,"px"):"5px",e}}},Pe=Be,Ue=(i("d82d"),Object(u["a"])(Pe,oe,ne,!1,null,"a80a5da8",null)),qe=Ue.exports;N()(Ue,{VBtn:H["a"],VIcon:L["a"]});var He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"footer",class:"footer_"+e.typeColumn},[e._v(" Всего записей в базе по таблице: "+e._s(e.listDataCount)+", загружено и показано: "+e._s(e.listDataCountLoad)+" ")])},Ke=[],Ye={name:"DataTableFooter",props:{typeColumn:{type:String,default:"fixed"},listDataCount:{type:Number,default:0},listDataCountLoad:{type:Number,default:0}},computed:{}},We=Ye,ze=(i("2ae4"),Object(u["a"])(We,He,Ke,!1,null,"369eaf40",null)),Qe=ze.exports,Xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("dialog-modal",{attrs:{"is-dialog-name":"Сообщение","is-dialog-show":e.isShow},on:{"close-dialog":function(t){return e.closeDialogModal("cancel")}}},[i("v-card",[i("v-card-text",[e._v("По заданным условиям записи отсутствуют, отключить фильтры?")]),i("v-card-actions",[i("v-spacer"),i("el-btn",{on:{click:function(t){return e.closeDialogModal("cancel")}}},[e._v("Отменить")]),i("el-btn",{staticClass:"tabspace-end",on:{click:function(t){return e.closeDialogModal("off")},keydown:function(t){return e.closeDialogModal("off")}}},[e._v("Отключить")])],1)],1)],1)},Je=[],Ze=i("0047"),et=i("1f64"),tt={name:"DataTableEmptyData",components:{DialogModal:et["a"],ElBtn:Ze["a"]},props:{isShow:{type:Boolean,default:!1}},methods:{closeDialogModal:function(e){this.$emit("close-dialog",e)}}},it=tt,ot=i("b0af"),nt=i("99d9"),at=i("2fa4"),rt=Object(u["a"])(it,Xe,Je,!1,null,null,null),st=rt.exports;N()(rt,{VCard:ot["a"],VCardActions:nt["a"],VCardText:nt["b"],VSpacer:at["a"]});var lt=i("a933"),ut={data:function(){return{guid:"d"+lt["Guid"].newGuid().StringGuid}},computed:{optionGetter:function(){return{tableName:this.tableName,guid:this.guid}},propsTable:function(){return this.$store.getters["DataTable/GET_PROPS_TABLE"](this.optionGetter)},isLoadingData:function(){var e=this,t=this.$store.getters["DataTable/GET_LOADING_API"](this.optionGetter);return t?this.parentElement&&this.parentElement.removeEventListener("scroll",this.eventScrollPagination):(this.parentElement.addEventListener("scroll",this.eventScrollPagination),0!=this.getCountDataTotal()&&setTimeout((function(){return e.eventScrollPagination()}),300)),t},listOptions:function(){return this.$store.getters["DataTable/GET_LIST_OPTIONS"](this.optionGetter)},listData:function(){return this.$store.getters["DataTable/GET_LIST_DATA"](this.optionGetter)},countDataTotal:function(){return this.$store.getters["DataTable/GET_COUNT_DATA_TOTAL"](this.optionGetter)},countDataLoaded:function(){return this.$store.getters["DataTable/GET_COUNT_DATA_LOADED"](this.optionGetter)},listDataGroup:function(){return this.$store.getters["DataTable/GET_DATA_GROUP"](this.optionGetter)},listDataGroupLevel:function(){return this.$store.getters["DataTable/GET_DATA_GROUP_LEVEL"](this.optionGetter)}},watch:{propsTable:function(){var e=this;"dense"==this.propsTable.typeRow&&setTimeout((function(){return e.eventScrollPagination()}),300)},countDataTotal:function(){0!=this.countDataTotal||""==this.$store.getters["DataTable/GET_FILTER_EXTENDED"](this.optionGetter)&&null==this.$store.getters["DataTable/GET_FILTER_DEFAULT_FIELD"](Object.assign({filter:"search"},this.optionGetter))||(this.isShowDialogEmpty=!0)}},created:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("DataTable/CREATE_TABLE_DATA_SPACE",{tableName:e.tableName,guid:e.guid,tableOption:{propsTable:{typeRow:e.typeRow,typeColumn:e.typeColumn,isAdding:e.isAdding,isAddingForm:e.isAddingForm,isAddingInline:e.isAddingInline,isEditable:e.isEditable,isEditableForm:e.isEditableForm,isEditableInline:e.isEditableInline,isFooter:e.isFooter,isExpansion:e.isExpansion,isMultiline:e.isMultiline,isHierarchy:e.isHierarchy}},defaultFilters:e.defaultFilters}).then((function(){}));case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){this.mountedComponent({guid:this.guid})},beforeDestroy:function(){this.$store.dispatch("DataTable/DELETE_TABLE_DATA_SPACE",{tableName:this.tableName,guid:this.guid})},methods:{getLinkPageNext:function(){return this.$store.getters["DataTable/GET_LINK_PAGE_NEXT"](this.optionGetter)},getLinkPagePrevious:function(){return this.$store.getters["DataTable/GET_LINK_PAGE_PREVIOUS"](this.optionGetter)},getCountDataTotal:function(){return this.$store.getters["DataTable/GET_COUNT_DATA_TOTAL"](this.optionGetter)},requestData:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$store.dispatch("DataTable/REQUEST_DATA",Object.assign({tableName:t.tableName,guid:t.guid},e)).then((function(){t.isBlock=!0}));case 2:case"end":return i.stop()}}),i)})))()},requestDataPrevious:function(e){this.$store.dispatch("DataTable/REQUEST_DATA_PREVIOUS",Object.assign({tableName:this.tableName,guid:this.guid},e))},addingNewElement:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var i,o,n,a,r,s,l,u,d,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.parentElement.removeEventListener("scroll",e.eventScrollPagination),console.log("adding element for table"),i=e.$store.getters["DataTable/GET_ADDING_MODE"]({tableName:e.tableName,guid:e.guid}).index,o={tableName:e.tableName,guid:e.guid},n=new FormData,console.log(e.defaultFilters),e.defaultFilters)for(a=0,r=Object.keys(e.defaultFilters);a<r.length;a++)s=r[a],n.set("".concat(s),e.defaultFilters[s]);for(l=0,u=Object.keys(e.listData[i]);l<u.length;l++)d=u[l],e.listData[i][d]&&(c=null,c="object"==Object(j["a"])(e.listData[i][d])&&null!=e.listData[i][d]?"id"in e.listData[i][d]?e.listData[i][d].id:e.listData[i][d].value:e.listData[i][d],n.set("".concat(d),"".concat(c)));return console.log(o),o.formData=n,o.previous=!0,t.next=13,e.$store.dispatch("DataTable/ADDING_NEW_ELEMENT",o).then((function(t){var i=document.querySelectorAll(".".concat(e.guid,' .body [data-rowId="').concat(t,'"]'))[0],o=new Event("click",{bubbles:!1});i.focus(),i.dispatchEvent(o)})).finally((function(){e.$store.commit("DataTable/RESET_ADDING_MODE",{tableName:e.tableName,guid:e.guid})}));case 13:case"end":return t.stop()}}),t)})))()},setSorting:function(e){console.log(e),this.$store.dispatch("DataTable/SET_FILTER_DEFAULT",{tableName:this.tableName,guid:this.guid,defaultFilters:{ordering:"".concat(this.propsTable.isHierarchy?"-is_group,":"").concat(e.ordering?"":"-").concat(e.key)}})},closeEmptyDialog:function(e){"reset"!=e&&"off"!=e||("reset"==e?this.$store.dispatch("DataTable/MARK_EVENT_FILTER_EXTENDED_RESET",{tableName:this.tableName,guid:this.guid}):this.$store.dispatch("DataTable/MARK_EVENT_FILTER_EXTENDED_OFF",{tableName:this.tableName,guid:this.guid}),this.$store.dispatch("DataTable/SET_FILTER_EXTENDED",{tableName:this.tableName,guid:this.guid,value:null,requestFalse:null}),this.$store.dispatch("DataTable/SET_FILTER_DEFAULT",{tableName:this.tableName,guid:this.guid,defaultFilters:{search:null,is_deleted:!1,parent__isnull:!!this.propsTable.isHierarchy||null}})),this.isShowDialogEmpty=!1},toggleGroup:function(e){this.blurComponent(),this.$store.getters["DataTable/GET_FILTER_DEFAULT_FIELD"](Object.assign({filter:"is_deleted"},this.optionGetter))||this.$store.dispatch("DataTable/SELECTED_GROUP",{tableName:this.tableName,guid:this.guid,value:e})}}},dt={methods:{eventComponentCreated:function(e){},mountedComponent:function(e){this.eventComponent("mounted-component",e)},focusedElement:function(e,t){this.$store.commit("DataTable/SET_ACTIVE_ELEMENT",Object.assign({value:t},this.optionGetter))},selectedElement:function(e,t){this.$store.commit("DataTable/SET_ACTIVE_ELEMENT",Object.assign({value:t},this.optionGetter)),this.eventComponent("selected-element",t)},eventRowKeydown:function(e,t){},blurComponent:function(){this.$store.commit("DataTable/SET_ACTIVE_ELEMENT",this.optionGetter)},eventComponent:function(e,t){this.$emit("event-component",e,t)}}},ct=i("2909"),pt=(i("498a"),{computed:{headers:function(){return this.propsTable.isMultiline?this.properties.templateMultiline:this.properties.templateUno},listHeaders:function(){var e=this.listOptions,t=this.headers,i=[],o=[];if(Array.isArray(t[0]))for(var n=0;n<t.length;n++){var a;(a=i).push.apply(a,Object(ct["a"])(t[n]))}else i=t;return i.forEach((function(t){t.value in e&&o.push(Object.assign(t,e[t.value],{position_in_template:{"grid-area":t.value}}))})),o},dataTableTemplate:function(){var e={"grid-template-areas":"","grid-template-columns":""},t=this.headers;return t[0].length?(e["grid-template-areas"]=this.computedAreaMultiLine(t),e["grid-template-columns"]=this.computedWidthMultiLine(t),e["grid-template-rows"]="repeat(".concat(t.length,", ").concat("fixed"==this.propsTable.typeRow?"43px":"dense"==this.propsTable.typeRow?"22px":"auto",")")):(e["grid-template-areas"]=this.computedAreaUnoLine(t),e["grid-template-columns"]=this.computedWidthUnoLine(t)),e},computedActionMax:function(){return"auto"!=this.propsTable.typeRow&&1==this.propsTable.isExpansion}},methods:{computedAreaUnoLine:function(e){var t='"';return this.computedActionMax&&(t+="action_max "),e.forEach((function(e){return t+="".concat(e.value," ")})),t=t.trim(),t+='"',t},computedAreaMultiLine:function(e){for(var t=e.length,i='"',o=[],n=0;n<t;n++)o.push([]);for(var a=function(t){e[t].forEach((function(e){if(e.column)for(var i=0;i<e.column;i++)o[t].push(e.value);else o[t].push(e.value?e.value:".")}))},r=0;r<t;r++)a(r);for(var s=o[0].length,l=0;l<s;l++)for(var u=1;u<t;u++)"."==o[u][l]&&(o[u][l]=o[u-1][l]);for(var d=0;d<t;d++)i+=o[d].join(" "),i+=d!=t-1?'" "':'"';return i},computedWidthUnoLine:function(e){var t="";return this.computedActionMax&&(t+="minmax(22px,22px) "),e.forEach((function(e,i){e.width?Array.isArray(e.width)?t+="minmax(".concat(void 0!=e.width[0]?e.width[0]:"100","px,").concat(void 0!=e.width[1]?e.width[1]+"px":"100vw",") "):t+="".concat(e.width,"px "):t+="minmax(100px,100vw) "})),t},computedWidthMultiLine:function(e){for(var t=e.length,i="",o=[],n=0;n<t;n++)o.push([]);for(var a=function(t){e[t].forEach((function(e){if(e.value)if(e.column){o[t].push("auto");for(var i=0;i<e.column-1;i++)o[t].push("auto")}else e.width?Array.isArray(e.width)?o[t].push("minmax(".concat(void 0!=e.width[0]?e.width[0]:"100","px,").concat(void 0!=e.width[1]?e.width[1]+"px":"100vw",")")):o[t].push("".concat(e.width,"px ")):o[t].push("minmax(100px,100vw)");else o[t].push(".")}))},r=0;r<t;r++)a(r);for(var s=[],l=o[0].length,u=0;u<l;u++)if("auto"==o[0][u])for(var d=1;d<t;d++){if("auto"!=o[d][u]){s.push(o[d][u]);break}d==t-1&&s.push(o[d][u])}else s.push(o[0][u]);return i=s.join(" "),i}}}),mt={data:function(){return{parentElement:null,parentElementEdge:0}},mounted:function(){this.parentElement=document.querySelector(".".concat(this.guid)),this.parentElementEdge=this.parentElement.getBoundingClientRect().bottom,this.parentElementEdgeTop=this.parentElement.getBoundingClientRect().top},updated:function(){this.parentElementEdge=this.parentElement.getBoundingClientRect().bottom},methods:{eventScrollPagination:function(){var e=this.parentElement.querySelector(".".concat(this.guid,"__boot-anchor")).getBoundingClientRect().bottom-1500,t=this.parentElement.querySelector(".".concat(this.guid,"__boot-anchor-previous")).getBoundingClientRect().top+10;t>this.parentElementEdgeTop&&this.getLinkPagePrevious()&&(this.isBlock=!1,this.parentElement.removeEventListener("scroll",this.eventScrollPagination),this.requestDataPrevious()),e<this.parentElementEdge&&this.getLinkPageNext()&&(this.isBlock=!1,this.parentElement.removeEventListener("scroll",this.eventScrollPagination),this.requestData({next:!0}))}}},ft={name:"DataTable",components:{DataTableOverflow:c,DataTableTooltip:b,ElProgressBar:v["a"],DataTableHeader:I,DataTableBodyGroup:ie,DataTableBody:qe,DataTableFooter:Qe,DataTableEmptyData:st},mixins:[ut,dt,pt,mt],props:{properties:Object,defaultOptions:{type:Object,default:function(){}},defaultFilters:{type:Object,default:function(){}},typeRow:{type:String,default:"fixed"},typeColumn:{type:String,default:"fixed"},isAdding:{type:Boolean,default:!0},isAddingForm:{type:Boolean,default:!0},isAddingInline:{type:Boolean,default:!0},isEditable:{type:Boolean,default:!0},isEditableForm:{type:Boolean,default:!0},isEditableInline:{type:Boolean,default:!0},isFooter:{type:Boolean,default:!1},isExpansion:{type:Boolean,default:!1},isMultiline:{type:Boolean,default:!1},isHierarchy:{type:Boolean,default:!0}},data:function(){return{tableName:this.properties.tableName,propertiesTooltip:{top:-300,left:-300,width:0,height:0,text:""},isShowDialogEmpty:!1,isShowTooltip:!1,isBlock:!0}},computed:{computedTooltipShift:function(){var e={left:-7,top:-3};return"fixed"==this.propsTable.typeRow&&"dense"==this.propsTable.typeColumn?(e.left=-7,e.top=-3,e):"auto"==this.propsTable.typeRow&&"fixed"==this.propsTable.typeColumn?(e.left=3,e.top=-3,e):"dense"==this.propsTable.typeRow&&"dense"==this.propsTable.typeColumn?(e.left=-7,e.top=-3,e):"auto"==this.propsTable.typeRow&&"dense"==this.propsTable.typeColumn?(e.left=-1,e.top=-3,e):e}},methods:{showTooltip:function(e){this.$store.getters["DataTable/GET_ADDING_MODE"]({tableName:this.tableName,guid:this.guid}).index||(this.propertiesTooltip={top:e.top?e.top+this.computedTooltipShift.top:-300,left:e.left+this.computedTooltipShift.left,width:e.width,height:e.height,text:e.text})},hideTooltip:function(e){this.propertiesTooltip={top:-300,left:-300,width:0,height:0},this.isShowTooltip=!1}}},ht=ft,gt=(i("c6ce"),i("a797")),bt=Object(u["a"])(ht,o,n,!1,null,"19c34864",null),vt=bt.exports;N()(bt,{VOverlay:gt["a"]});var yt={components:{DataTable:vt},props:{defaultOptions:{type:Object,default:function(){}},defaultFilters:{type:Object,default:function(){}},typeRowNumber:{type:Number,default:0},typeColumn:{type:String,default:"fixed"},isAdding:{type:Boolean,default:!0},isAddingForm:{type:Boolean,default:!0},isAddingInline:{type:Boolean,default:!0},isEditable:{type:Boolean,default:!0},isEditableForm:{type:Boolean,default:!0},isEditableInline:{type:Boolean,default:!0},isFooter:{type:Boolean,default:!1},isExpansion:{type:Boolean,default:!1},isMultiline:{type:Boolean,default:!1},isHierarchy:{type:Boolean,default:!0}},data:function(){return{dTypeRow:["fixed","dense","auto"],dDefaultOptions:this.defaultOptions,dDefaultFilters:this.defaultFilters,dTypeRowNumber:this.typeRowNumber,dTypeColumn:this.typeColumn,disAdding:this.isAdding,disAddingForm:this.isAddingForm,disAddingInline:this.isAddingInline,disEditable:this.isEditable,disEditableForm:this.isEditableForm,disEditableInline:this.isEditableInline,disFooter:this.isFooter,disExpansion:this.isExpansion,disMultiline:this.isMultiline,disHierarchy:this.isHierarchy}},computed:{propertiesTable:function(){return{properties:this.optionTable,"default-options":this.dDefaultOptions,"default-filters":this.dDefaultFilters,"type-row":this.dTypeRow[this.dTypeRowNumber],"type-column":this.dTypeColumn,"is-adding":this.disAdding,"is-adding-form":this.disAddingForm,"is-adding-inline":this.disAddingInline,"is-editable":this.disEditable,"is-editable-form":this.disEditableForm,"is-editable-inline":this.disEditableInline,"is-footer":this.disFooter,"is-expansion":this.disExpansion,"is-multiline":this.disMultiline,"is-hierarchy":this.disHierarchy}}},methods:{eventComponent:function(e,t){switch(e){case"mounted-component":this.$emit("component-mounted",t);break;case"focused-element":this.$emit("row-focused",t);break;case"selected-element":this.$emit("row-selected",t);break;case"blur-component":this.$emit("component-blur");break}}}}},"0c24":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALUE_REQUIRED=t.UNSUPPORTED_TYPE=t.INVALID_GUID=void 0;const o="Invalid Guid value! Please specify a valid value!";t.INVALID_GUID=o;const n="The parameter value required!";t.VALUE_REQUIRED=n;const a="UnSupported type! please specify one of the following: [Guid | string | Uint8Array]";t.UNSUPPORTED_TYPE=a},1475:function(e,t,i){},"15a3":function(e,t,i){},1983:function(e,t,i){},"1e87":function(e,t,i){"use strict";i("1983")},"2ae4":function(e,t,i){"use strict";i("8f04")},"34ea":function(e,t,i){},"40e5":function(e,t,i){},4686:function(e,t,i){},"5ca8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;const o=i("0c24"),n=i("b470");class a{constructor(e){if(this.BytesGuid=new Uint8Array(16),this.StringGuid="",this.BytesGuid=new Uint8Array(16),this.StringGuid="",!e)return this.StringGuid=n.GenerateGuidV4(),void(this.BytesGuid=n.stringToUint8Array(this.StringGuid));if("string"===typeof e){if(!a.isValid(e))throw new Error(o.INVALID_GUID);return this.StringGuid=e,void(this.BytesGuid=n.stringToUint8Array(this.StringGuid))}if("object"===typeof e&&e instanceof Uint8Array){if(!a.isValid(e))throw new Error(o.INVALID_GUID);return this.BytesGuid=e,void(this.StringGuid=n.uint8ArrayToString(e))}throw new Error(o.UNSUPPORTED_TYPE)}toString(){return this.StringGuid}toByteArray(){return this.BytesGuid}equals(e){if(!e)throw new Error(o.VALUE_REQUIRED);if("string"===typeof e){if(!n.isStringValidGuid(e))throw new Error(o.INVALID_GUID);return this.StringGuid===e}if("object"!==typeof e)throw new Error(o.UNSUPPORTED_TYPE);if(e instanceof Uint8Array){if(!n.isUint8ArrayValidGuid(e))throw new Error(o.INVALID_GUID);return this.StringGuid===n.uint8ArrayToString(e)}return!(e instanceof a)||this.StringGuid===e.toString()}isEmpty(){return this.StringGuid===a.EMPTY}static parse(e){if(!a.isValid(e))throw new Error(o.INVALID_GUID);return"object"===typeof e&&e instanceof Uint8Array?n.uint8ArrayToString(e):n.stringToUint8Array(e)}static newGuid(){return new a(n.GenerateGuidV4())}static isValid(e){if(!e)throw new Error(o.VALUE_REQUIRED);if("string"===typeof e)return n.isStringValidGuid(e);if("object"===typeof e&&e instanceof Uint8Array){if(e.length!==n.ARRAY_LENGTH)throw new Error(o.INVALID_GUID);return n.isUint8ArrayValidGuid(e)}throw new Error(o.UNSUPPORTED_TYPE)}}t.Guid=a,a.EMPTY="00000000-0000-0000-0000-000000000000"},"5e41":function(e,t,i){},"5f70":function(e,t,i){"use strict";i("8021")},"6f0c":function(e,t,i){"use strict";i("34ea")},"6fdf":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"data-progress-line",attrs:{color:"blue",indeterminate:"",absolute:"",bottom:""}})},n=[],a={name:"ElProgressLine",props:{isShow:{type:Boolean,default:!1}}},r=a,s=i("2877"),l=i("6544"),u=i.n(l),d=i("8e36"),c=Object(s["a"])(r,o,n,!1,null,null,null);t["a"]=c.exports;u()(c,{VProgressLinear:d["a"]})},8021:function(e,t,i){},"8f04":function(e,t,i){},"9b6a":function(e,t,i){"use strict";i("d280")},a0ef:function(e,t,i){},a933:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var o=i("5ca8");Object.defineProperty(t,"Guid",{enumerable:!0,get:function(){return o.Guid}})},b470:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateGuidV4=t.isUint8ArrayValidGuid=t.isStringValidGuid=t.uint8ArrayToString=t.stringToUint8Array=t.ARRAY_LENGTH=void 0,t.ARRAY_LENGTH=16;const o=[3,2,1,0,5,4,7,6,8,9,10,11,12,13,14,15],n=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function a(e){let i=e<=15?"0":"";return i+=e.toString(t.ARRAY_LENGTH),i}function r(e){const i=new RegExp("[{}()-]","g"),n=e.replace(i,""),a=[];for(let r=0;r<t.ARRAY_LENGTH;r++){const e=o[r],t=n.charAt(2*e),i=n.charAt(2*e+1),s=unescape(`%${t}${i}`).charCodeAt(0);a.push(s)}return new Uint8Array(a)}function s(e){let i="";for(let n=0;n<t.ARRAY_LENGTH;n++){i+=4===n||6===n||8===n||10===n?"-":"";const t=o[n];i+=a(e[t])}return i}function l(e){return!!e&&n.test(e)}function u(e){const t=s(e);return e&&n.test(t)}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)}))}t.stringToUint8Array=r,t.uint8ArrayToString=s,t.isStringValidGuid=l,t.isUint8ArrayValidGuid=u,t.GenerateGuidV4=d},c4af:function(e,t,i){"use strict";i("a0ef")},c6ce:function(e,t,i){"use strict";i("fb10")},d1e9:function(e,t,i){"use strict";i("15a3")},d280:function(e,t,i){},d82d:function(e,t,i){"use strict";i("4686")},ee50:function(e,t,i){"use strict";i("5e41")},fb10:function(e,t,i){},fb6d:function(e,t,i){"use strict";i("40e5")}}]);
//# sourceMappingURL=chunk-0bfd4ab3.304c80e3.js.map